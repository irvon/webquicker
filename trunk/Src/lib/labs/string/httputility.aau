//Html±àÂë
/* 
* Author		carl
* Version:      1.0
* LastModified: May 18, 2010
*/
 

namespace labs.string.httputility

var replace=..string.replace;
var split=..string.split;

//128,130,132,133,134,135,137,139,145,146,147,148,149,150,151,153,155

var tabutf={"129,Â";"131,Æ’";"136,Ë†";"138,Å ";"140,Å’";"141,Â";"142,Å½";"143,Â";"144,Â";"152,Ëœ";"154,Å¡";"156,Å“";"157,Â";"158,Å¾";
"159,Å¸";"161,Â¡";"162,Â¢";"163,Â£";"164,Â¤";"165,Â¥";"166,Â¦";"167,Â§";"168,Â¨";"169,Â©";"170,Âª";"171,Â«";"172,Â¬";"173,Â­";"174,Â®";
"175,Â¯";"176,Â°";"177,Â±";"178,Â²";"179,Â³";"180,Â´";"181,Âµ";"182,Â¶";"183,Â·";"184,Â¸";"185,Â¹";"186,Âº";"187,Â»";"188,Â¼";"189,Â½";"190,Â¾";
"191,Â¿";"192,Ã€";"193,Ã";"194,Ã‚";"195,Ãƒ";"196,Ã„";"197,Ã…";"198,Ã†";"199,Ã‡";"200,Ãˆ";"201,Ã‰";"202,ÃŠ";"203,Ã‹";"204,ÃŒ";"205,Ã";"206,Ã";
"207,Ã";"208,Ã";"209,Ã‘";"210,Ã’";"211,Ã“";"212,Ã”";"213,Ã•";"214,Ã–";"215,Ã—";"216,Ã˜";"217,Ã™";"218,Ãš";"219,Ã›";"220,Ãœ";"221,Ã";"222,Ã";
"223,ÃŸ";"224,Ã ";"225,Ã¡";"226,Ã¢";"227,Ã£";"228,Ã¤";"229,Ã¥";"230,Ã¦";"231,Ã§";"232,Ã¨";"233,Ã©";"234,Ãª";"235,Ã«";"236,Ã¬";"237,Ã­";"238,Ã®";
"239,Ã¯";"240,Ã°";"241,Ã±";"242,Ã²";"243,Ã³";"244,Ã´";"245,Ãµ";"246,Ã¶";"247,Ã·";"248,Ã¸";"249,Ã¹";"250,Ãº";"251,Ã»";"252,Ã¼";"253,Ã½";"254,Ã¾";"255,Ã¿"}

function HtmlEncode(str){
	if(!str){return ""; }
	for(k,v in tabutf){
		var t=split(v,",");
		str=replace(str,t[2],"&#" ++ t[1] ++ ";")
	}
	return str; 
} 


/*
Àı×Ó:
import labs.string.httputility;
str="¨¨¨¦¨º"
io.print("GB2312±àÂë:",str)

str=string.fromto(str,936,65001)
io.print("utf-8±àÂë:",str)

str=labs.string.httputility.HtmlEncode(str)
io.print("html±àÂë:",str)

*/
/*intellisense(labs.string.httputility)
HtmlEncode() = Html±àÂë\n UTF-8×Ö·û×ª»»Îªhtml±àÂë

end intellisense*/